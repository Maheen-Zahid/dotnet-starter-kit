### Usage

##### Don't use constructor without <code>IIdentityProviderConfiguration</code> parameter. This will throw exceptions.

Firstly, application should be configured for your organisation domain.
Identity provider configuration contains these parameters:
- Domain. Base domain used for authorization. must be subdomain of kinde.com. F.E. testauth.kinde.com
- ReplyUrl. Unused for client credentials, but used as callback url for other flows. May be null for client credentials
- LogoutUrl. Url for redirection after logout.

Additional requirements (based on flow)
- ClientID, required.
- ClientSecret, required.
- Scope, required.
- State, optional. Can be set to null, then will be autogenerated. <b> Note, that state parameter must not be constant. It must be random for each call.</b>
- Code verifier generic parameter, required. Use inbuilt SHA256CodeVerifier, or create other one if needed. 

SDK supports configuration from appsetings.json. Also, you can write your own implementation of ```IAuthorizationConfigurationProvider``` and ```IIdentityProviderConfigurationProvider```. 
Configuration example:
```json
"ApplicationConfiguration": {
    "Domain": "https://testauth.kinde.com",
    "ReplyUrl": "https://localhost:7165/home/callback",
    "LogoutUrl":  "https://localhost:7165/home"
  },
  "DefaultAuthorizationConfiguration": {
    "ConfigurationType": "Kinde.Api.Models.Configuration.PKCES256Configutation",
    "Configuration": {
      "State": null,
      "ClientId": "reg@live",
      "Scope": "openid offline",
      "GrantType": "code id_token token",
      "ClientSecret": "<my secret>"
    }
  },
```
Also, you should register configuration providers using .net DI:
```csharp
builder.Services.AddTransient<IAuthorizationConfigurationProvider, DefaultAuthorizationConfigurationProvider>();
builder.Services.AddTransient<IApplicationConfigurationProvider, DefaultApplicationConfigurationProvider>();
```
PKCES256Configutation is most complicated configuration and contains all necessary properties. Configuration for Authentication code is same and for Client credentials State is not applicable. But it is not mandatory to remove it.
All availiable types are:
1. Kinde.Api.Models.Configuration.PKCES256Configutation
2. Kinde.Api.Models.Configuration.AuthorizationCodeConfiguration
3. Kinde.Api.Models.Configuration.ClientCredentialsConfiguration

After this configuration you can start application and test login flow. 
Most of authentication logic located in HomeController.cs.

